<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>2106</title>

<style>
body {
  margin: 0;
  background: black;
  color: white;
  font-family: 'Courier New', monospace;
  overflow: hidden;
}

canvas {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 0;
}

.container {
  position: relative;
  z-index: 1;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  text-align: center;
}

.section p {
  margin-bottom: 40px;
  font-size: 14px;
  opacity: 0.7;
}

#secret {
  display: none;
  opacity: 0;
  transition: opacity 2s ease;
}

#continueBtn {
  display: none;
  margin-top: 20px;
  padding: 10px 25px;
  background: white;
  border: none;
  cursor: pointer;
  font-family: inherit;
}

input {
  padding: 10px;
  background: black;
  border: 1px solid white;
  color: white;
  text-align: center;
  font-family: inherit;
}

button {
  padding: 10px 25px;
  background: white;
  border: none;
  cursor: pointer;
  font-family: inherit;
}
</style>
</head>

<body>

<canvas id="hearts"></canvas>

<div class="container">
<div class="section">

<p>Para meu amor: Senhor Kaique Braz</p>

<div id="login">
  <h2>Digite o código</h2>
  <input type="password" id="codeInput">
  <br><br>
  <button onclick="checkCode()">Entrar</button>
</div>

<div id="secret">
  <h1 id="message"></h1>
  <button id="continueBtn" onclick="finalMessage()">Continue</button>
</div>

</div>
</div>

<audio id="bgMusic" preload="auto">
  <source src="ONLY.mp3" type="audio/mpeg">
</audio>

<script>

// ===== CÓDIGO =====
function checkCode() {
  const code = document.getElementById("codeInput").value;

  if(code === "2106") {

    document.getElementById("login").style.display = "none";

    const secret = document.getElementById("secret");
    secret.style.display = "block";
    setTimeout(() => { secret.style.opacity = 1; }, 100);

    const music = document.getElementById("bgMusic");
    music.volume = 1;
    music.play().catch(() => {});

    typeWriter();

  } else {
    alert("Código incorreto...");
  }
}

// ===== TEXTO =====
const text = "Tudo começou no dia 8 de agosto.\nNosso primeiro beijo foi 1 de setembro.\nE desde então...\nvocê se tornou o meu lugar favorito no mundo.";
let i = 0;

function typeWriter() {
  if (i < text.length) {
    document.getElementById("message").innerHTML += 
      text.charAt(i) === "\n" ? "<br>" : text.charAt(i);
    i++;
    setTimeout(typeWriter, 50);
  } else {
    document.getElementById("continueBtn").style.display = "inline-block";
  }
}

function finalMessage() {

  const secret = document.getElementById("secret");
  const music = document.getElementById("bgMusic");

  // diminui música devagar
  let fadeAudio = setInterval(() => {
    if (music.volume > 0.05) {
      music.volume -= 0.05;
    } else {
      clearInterval(fadeAudio);
    }
  }, 300);

  secret.style.opacity = 0;

  setTimeout(() => {
    secret.innerHTML = `
      <h1 style="font-size: 2em; line-height: 1.6; opacity: 0; transition: opacity 3s;">
        A distância é temporária.<br><br>
        O que eu sinto por você não é.
      </h1>
    `;
    const newText = secret.querySelector("h1");
    setTimeout(() => { newText.style.opacity = 1; }, 100);
    secret.style.opacity = 1;
  }, 2000);
}

// ===== CORAÇÕES =====
const canvas = document.getElementById("hearts");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let hearts = [];

for (let i = 0; i < 50; i++) {
  hearts.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    size: Math.random() * 20 + 10,
    speed: Math.random() * 1 + 0.5
  });
}

function drawHeart(x, y, size) {
  ctx.beginPath();
  ctx.moveTo(x, y);
  ctx.bezierCurveTo(x - size/2, y - size/2, x - size, y + size/3, x, y + size);
  ctx.bezierCurveTo(x + size, y + size/3, x + size/2, y - size/2, x, y);
  ctx.fillStyle = "rgba(255, 100, 150, 0.8)";
  ctx.fill();
}

function animateHearts() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  hearts.forEach(heart => {
    drawHeart(heart.x, heart.y, heart.size);
    heart.y -= heart.speed;

    if (heart.y < -20) {
      heart.y = canvas.height + 20;
      heart.x = Math.random() * canvas.width;
    }
  });

  requestAnimationFrame(animateHearts);
}

animateHearts();

window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

</script>

</body>
</html>
